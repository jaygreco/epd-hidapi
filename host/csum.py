import math

# shift <stride> num of elements into a single integer
def __shift_and_stack(l, stride):
    # pad l to stride width
    while len(l) < stride:
        l.extend([0x0])

    result = 0
    [result := (result | l[-(x+1)] << (8*x)) for x in range(stride)]
    # print(f"{hex(result)}")
    return result


def csum(l):
    # NOTE: can seed the checksum with a starting value
    checksum = 0
    STRIDE = 4
    [checksum := (__shift_and_stack(l[x:x+STRIDE], STRIDE) ^ checksum) for x in range(0, len(l), STRIDE)]
    return checksum


if __name__ == "__main__":
    # l = [0x9A, 0xCE, 0xB1, 0x1A, 0x00, 0x21, 0x89, 0x23, 0x69, 0x45]
    l = [249, 252, 66, 194, 198, 62, 247, 177, 153, 191, 239, 135, 148, 191, 101, 71, 225, 14, 167, 229, 51, 49, 160, 234, 239, 72, 129, 18, 208, 46, 77, 236, 2, 206, 75, 185, 245, 64, 0, 1, 78, 203, 99, 16, 226, 111, 203, 156, 42, 58, 3, 100, 71, 96, 53, 41, 224, 151, 228, 177, 107, 38, 180, 73, 214, 9, 219, 21, 41, 162, 245, 230, 244, 57, 4, 12, 217, 190, 202, 100, 146, 119, 197, 214, 229, 215, 154, 17, 171, 84, 66, 227, 39, 99, 226, 120, 179, 77, 157, 7, 50, 53, 39, 46, 106, 244, 193, 134, 83, 189, 132, 74, 94, 113, 179, 112, 182, 105, 123, 237, 33, 245, 209, 98, 236, 188, 189, 240, 224, 154, 92, 160, 187, 109, 40, 139, 46, 12, 88, 25, 6, 197, 59, 42, 58, 70, 220, 142, 119, 239, 111, 147, 222, 238, 184, 173, 47, 179, 101, 73, 39, 164, 245, 75, 95, 83, 254, 22, 232, 170, 92, 235, 154, 48, 26, 50, 94, 139, 14, 144, 127, 142, 26, 203, 143, 206, 121, 21, 128, 66, 90, 86, 16, 92, 179, 211, 58, 228, 192, 85, 131, 220, 0, 56, 128, 235, 220, 12, 11, 244, 250, 9, 246, 31, 131, 213, 31, 224, 239, 30, 194, 236, 147, 185, 87, 160, 183, 79, 58, 57, 27, 167, 106, 35, 194, 102, 191, 42, 168, 177, 57, 35, 99, 109, 5, 240, 191, 8, 145, 218, 131, 106, 145, 26, 39, 161, 248, 60, 51, 166, 183, 181, 86, 85, 28, 247, 253, 84, 54, 227, 240, 184, 137, 191, 58, 231, 63, 63, 88, 210, 232, 151, 4, 3, 136, 90, 43, 251, 170, 51, 252, 210, 189, 170, 0, 109, 145, 253, 144, 197, 142, 50, 170, 247, 185, 178, 60, 224, 203, 113, 194, 88, 8, 11, 53, 190, 114, 165, 2, 106, 222, 160, 26, 111, 1, 79, 131, 183, 249, 152, 162, 163, 101, 226, 227, 135, 86, 8, 224, 206, 86, 115, 138, 84, 46, 101, 91, 231, 96, 153, 167, 196, 184, 211, 23, 237, 129, 196, 158, 133, 9, 21, 36, 55, 161, 247, 31, 230, 212, 169, 2, 65, 197, 78, 109, 10, 97, 228, 20, 83, 145, 36, 129, 236, 160, 127, 53, 105, 231, 146, 105, 63, 110, 76, 237, 21, 50, 90, 144, 163, 44, 237, 8, 244, 102, 76, 94, 119, 96, 6, 174, 130, 173, 52, 110, 241, 232, 163, 80, 121, 94, 65, 27, 171, 113, 87, 192, 154, 229, 97, 14, 213, 83, 148, 76, 66, 8, 8, 153, 175, 105, 103, 84, 102, 32, 186, 74, 241, 89, 129, 149, 64, 159, 73, 99, 111, 189, 93, 110, 141, 229, 247, 2, 216, 12, 144, 246, 143, 156, 118, 172, 253, 146, 197, 169, 192, 204, 166, 7, 47, 115, 124, 113, 105, 109, 50, 1, 203, 141, 255, 18, 214, 9, 52, 118, 29, 150, 22, 147, 241, 47, 101, 172, 120, 215, 76, 41, 67, 237, 156, 22, 144, 8, 75, 106, 101, 183, 244, 102, 135, 37, 29, 60, 163, 12, 195, 65, 104, 254, 240, 82, 212, 250, 170, 200, 163, 61, 153, 122, 176, 217, 219, 110, 157, 90, 165, 111, 135, 137, 19, 155, 222, 167, 202, 118, 169, 103, 223, 99, 185, 220, 2, 113, 5, 210, 11, 0, 230, 84, 29, 234, 193, 179, 214, 212, 107, 55, 111, 42, 230, 36, 42, 227, 19, 200, 178, 94, 121, 156, 87, 157, 112, 123, 168, 201, 156, 55, 241, 227, 35, 152, 94, 243, 95, 124, 219, 228, 205, 226, 192, 69, 144, 101, 176, 106, 212, 114, 42, 117, 74, 191, 249, 57, 83, 149, 28, 38, 150, 161, 46, 96, 196, 4, 86, 52, 52, 92, 158, 50, 93, 226, 68, 121, 118, 190, 189, 129, 179, 21, 246, 221, 196, 229, 170, 106, 163, 170, 111, 33, 21, 71, 241, 11, 166, 83, 99, 193, 45, 147, 227, 72, 109, 113, 167, 183, 95, 210, 11, 138, 191, 233, 116, 93, 162, 205, 65, 49, 40, 175, 187, 157, 107, 65, 40, 110, 234, 25, 248, 147, 236, 151, 145, 187, 33, 236, 101, 47, 195, 93, 136, 75, 14, 92, 54, 213, 43, 19, 190, 48, 96, 217, 221, 228, 207, 254, 118, 206, 177, 41, 43, 76, 97, 47, 237, 208, 17, 190, 102, 249, 97, 249, 191, 242, 212, 8, 252, 124, 11, 168, 226, 88, 82, 114, 216, 124, 8, 204, 177, 196, 230, 100, 245, 203, 94, 135, 231, 102, 156, 106, 232, 193, 44, 200, 3, 104, 192, 173, 107, 187, 69, 146, 166, 245, 49, 248, 92, 69, 6, 195, 102, 158, 11, 155, 127, 82, 214, 145, 87, 107, 166, 8, 87, 15, 86, 115, 106, 231, 59, 85, 239, 251, 237, 10, 194, 143, 94, 108, 11, 239, 11, 244, 13, 13, 31, 204, 184, 129, 111, 88, 89, 219, 32, 182, 122, 85, 182, 84, 91, 177, 112, 15, 24, 166, 127, 54, 174, 94, 142, 134, 55, 100, 192, 251, 28, 26, 212, 235, 73, 48, 14, 98, 88, 184, 193, 60, 177, 147, 4, 34, 251, 121, 251, 117, 14, 216, 151, 215, 25, 188, 199, 96, 139, 0, 53, 94, 120, 34, 114, 237, 239, 117, 236, 220, 176, 206, 236, 64, 16, 184, 42, 133, 101, 66, 14, 153, 190, 212, 85, 124, 114, 49, 87, 64, 237, 3, 148, 144, 6, 44, 233, 205, 93, 60, 229, 209, 134, 49, 72, 112, 192, 20, 50, 132, 202, 23, 28, 234, 190, 181, 1, 38, 4, 146, 218, 23, 249, 142, 20, 74, 176, 179, 77, 97, 251, 223, 158, 105, 112, 124, 12, 194, 8, 227, 166, 60, 226, 134, 131, 251, 178, 17, 147, 33, 156, 214, 84, 233, 159, 162, 26, 25, 112, 38, 147, 76, 255, 40, 129, 57, 119, 205, 31, 178, 202, 48, 122, 161, 203, 117, 69]
    print(f"l: {hex(csum(l))}")
